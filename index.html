<!DOCTYPE HTML>

<html>
<head>
</head>
<body>
	<canvas width="800" height="450"></canvas>
	<input id="grayscalebtn" value="Grayscale" type="button">
	<input id="reloadbtn" value="Reload" type="button" onClick="window.location.reload()">

	<script type="text/javascript">

		// Task: Write a function to convert an image to grayscale

		var canvas = document.querySelector("canvas");
		var ctx = canvas.getContext("2d");

		var image = new Image();
		image.onload = function() {
			ctx.drawImage(image, 0, 0, canvas.width, canvas.height);
			// makeGrayScale();

		}

		image.src = "chuck-norris-07.jpg";	

		var makePixelGrayScale = function (r, g, b, a) {
			var y = (0.3 * r) + (0.59 * g) + (0.11 * b);
			return {r: y, g: y, b: y, a:y};
		}

		function makeGrayScale() {
			var r, g, b, a;
			var imageData = ctx.getImageData(0,0, canvas.width, canvas.height);
			var numPixels = imageData.data.length / 4;
			for (var i = 0; i < numPixels; i++) {
				r = imageData.data[i * 4 + 0];
				g = imageData.data[i * 4 + 1];
				b = imageData.data[i * 4 + 2];
				a = imageData.data[i * 4 + 3];
				pixel = makePixelGrayScale(r, g, b, a);
				imageData.data[i * 4 + 0] = pixel.r;
				imageData.data[i * 4 + 1] = pixel.g;
				imageData.data[i * 4 + 2] = pixel.b;
				imageData.data[i * 4 + 3] = pixel.a;
			}
			ctx.putImageData(imageData,0,0);
		}

		var grayscalebtn = document.getElementById('grayscalebtn');

		grayscalebtn.addEventListener('click', makeGrayScale);

		// var img = new Image();
		// img.src = "https://truthabouttrade.org/wp-content/uploads/2014/08/chuck-norris-07.jpg";	

		// img.onload = function() {
		// 	console.log("Loaded image");
		// 	draw(this);
		// }

		// function draw(img) {

		// 	var canvas = document.getElementById("canvas");
		// 	var ctx = canvas.getContext("2d");
		// 	ctx.drawImage(img, 0, 0);
		// 	img.style.display = "none";
		// 	var imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
		// 	var data = imageData.data;

		// 	var grayscale = function() {
			    
		// 	    for (var i = 0; i < data.length; i += 4) {
			      
		// 	      var avg = (data[i] + data[i +1] + data[i +2]) / 3;
			      
		// 	      data[i]     = avg; // red
			      
		// 	      data[i + 1] = avg; // green
			      
		// 	      data[i + 2] = avg; // blue
		// 	    }
		// 	    ctx.putImageData(imageData, 0, 0);
		// 	};

		// 	var grayscalebtn = document.getElementById('grayscalebtn');

		// 	grayscalebtn.addEventListener('click', grayscale);
		// }











		// End Task


		// // Task: Make every 10th pixel green

		// var canvas = document.querySelector("canvas");
		// var ctx = canvas.getContext("2d");
		// // Get Image Data object

		// var data = ctx.getImageData(0,0,400,400);

		// function paintGreen(imageData) {
		// 	var numPixels = imageData.data.length/4;
		// 	for (var i = 0; i < numPixels; i++) {
		// 		if (i%10 === 0) {
		// 			imageData.data[i * 4 + 1] = 255;
		// 			imageData.data[i * 4 + 3] = 255;
		// 		}
		// 	}
		// 	ctx.putImageData(imageData, 0, 0);
		// }
		// paintGreen(data);

		// // End Task

		// ctx.fillStyle = "blue";
		// ctx.fillRect(0, 0, 800, 450);

		// ctx.beginPath();
		// ctx.moveTo(75, 75);
		// ctx.lineTo(125, 125);
		// ctx.lineTo(125, 75);
		// ctx.lineTo(75, 75);
		// ctx.fill();

		// ctx.font = "36pt Impact";
		// ctx.textAlign = "center";

		// ctx.fillStyle = "white";
		// ctx.fillText("CANVAS MEMES!", c.width / 2, 40);

		// ctx.strokeStyle = "black";
		// ctx.lineWidth = 3;
		// ctx.strokeText("CANVAS MEMES!", c.width / 2, 40);		
		// // meme.stroke();
		// ctx.strokeText("CANVAS MEMES!", 50, 50);



	</script>
</body>
</html>